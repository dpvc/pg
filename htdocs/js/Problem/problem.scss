/* WeBWorK Online Homework Delivery System
 * Copyright &copy; 2000-2023 The WeBWorK Project, https://github.com/openwebwork
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of either: (a) the GNU General Public License as published by the
 * Free Software Foundation; either version 2, or (at your option) any later
 * version, or (b) the "Artistic License" which comes with this package.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See either the GNU General Public License or the
 * Artistic License for more details.
 */

/* Styles used in pg problems and by the attempts table. */

.problem-main-form {
	margin: 0.5rem 0 0;
}

.problem-content {
	min-height: 20px;
	padding: 0.75rem;
	margin-bottom: 1rem;
	background-color: #f5f5f5;
	border: 1px solid #e3e3e3;
	border-radius: 4px;
	box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);

	p {
		margin-top: 1rem;
		margin-bottom: 1rem;
	}

	/* Problem elements */
	label,
	input[type='text'],
	select,
	textarea {
		font-weight: normal;
		line-height: 18px;
		width: auto;
	}

	select,
	textarea,
	input[type='text'] {
		display: inline-block;
		padding: 4px 6px;
		margin-bottom: 0;
		color: #555;
		vertical-align: middle;
		border: 1px solid #ccc;
		border-radius: 4px;
		background-color: white;
	}

	textarea,
	input[type='text'] {
		font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
	}

	input[type='text'] {
		height: 30px;
		font-size: 14px;
		line-height: 20px;
	}

	select,
	input[type='text'],
	input[type='radio'],
	input[type='checkbox'],
	span[id^='mq-answer'],
	.graphtool-container {
		&.correct {
			border-color: rgba(81, 153, 81, 0.8); /* green */
			outline: 0;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px 2px rgba(81, 153, 81, 0.6);
			color: inherit;
		}

		&.incorrect {
			border-color: rgba(191, 84, 84, 0.8); /* red */
			outline: 0;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px 2px rgba(191, 84, 84, 0.6);
			color: inherit;
		}

		&.partially-correct {
			border-color: rgba(255, 193, 7, 0.8); /* yellow */
			outline: 0;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px 2px rgba(255, 193, 7, 0.6);
			color: inherit;
		}
	}

	input[type='text'],
	span.mq-editable-field {
		background-size: 20px auto;
		background-position: right 4px center;
		background-repeat: no-repeat;

		&.correct {
			padding-right: 29px;
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
		}

		&.incorrect {
			padding-right: 29px;
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23AE5757'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23AE5757' stroke='none'/%3e%3c/svg%3e");
		}

		&.partially-correct {
			padding-right: 29px;
			background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='%23FFC107' stroke='black'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='black' stroke='none'/%3e%3c/svg%3e");
		}
	}

	input[type='radio'] {
		margin-right: 0.25rem;
	}

	select {
		cursor: pointer;

		&[multiple],
		&[size] {
			height: auto;
		}
	}

	textarea {
		max-width: 100%;
	}

	input[type='text'],
	input[type='radio'],
	textarea,
	select {
		&:focus {
			border-color: rgba(82, 168, 236, 0.8);
			outline: 0;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px 2px rgba(82, 168, 236, 0.6);
		}
	}

	.pg-table {
		text-align: center;
		thead,
		tbody,
		tfoot,
		tr,
		td,
		th {
			padding: 0.25rem;
			border: 1px solid black;
		}
	}

	.radio-buttons-container,
	.checkboxes-container,
	.applet-container,
	.graphtool-outer-container,
	.ww-feedback-container {
		position: relative;
		width: fit-content;

		.ww-feedback-btn {
			position: absolute;
			left: 100%;
			top: 0;
			margin-left: 0.25rem;
		}

		&.align-middle {
			.ww-feedback-btn {
				top: 50%;
				transform: translateY(-50%);
			}
		}

		&.align-bottom {
			.ww-feedback-btn {
				top: unset;
				bottom: 0;
			}
		}
	}
}

/* rtl:raw:
.problem-content[dir=ltr] input[type=radio] {
	margin-right: 0.25rem;
}
*/

/* Feedback */

.ResultsWithoutError {
	color: #0f5132; /* Dark Green */
	background-color: #8f8; /* Light Green */
	padding: 0.25rem;
	border: 1px solid transparent;
	border-radius: 0.25rem;
	box-shadow: 3px 3px 3px darkgray;
}

.ResultsWithError {
	color: #400; /* Dark Red */
	background-color: #d69191; /* Light Red */
	padding: 0.25rem;
	border: 1px solid transparent;
	border-radius: 0.25rem;
	box-shadow: 3px 3px 3px darkgray;
}

.ResultsAlert {
	color: #0e038c; /* Dark Blue */
	background-color: #fbd2b8; /* Light Orange */
	padding: 0.25rem;
	border: 1px solid transparent;
	border-radius: 0.25rem;
	box-shadow: 3px 3px 3px darkgray;
}

.ww-feedback-popover {
	--bs-popover-body-padding-x: 0;
	--bs-popover-body-padding-y: 0;
	--bs-popover-max-width: 600px;
	--bs-popover-zindex: 18;

	.popover-header {
		text-align: center;
	}

	&.correct {
		.popover-header {
			--bs-popover-header-bg: #8f8;
		}
	}

	&.incorrect {
		.popover-header {
			--bs-popover-header-bg: #d69191;
		}
	}

	&.partially-correct {
		.popover-header {
			--bs-popover-header-bg: #ffc107;
		}
	}

	.popover-body {
		.card {
			border-top-left-radius: 0;
			border-top-right-radius: 0;
			--bs-card-spacer-y: 0.5rem;
			--bs-card-cap-bg: #ddd;

			.card-header {
				border-radius: 0;

				&:not(:first-child) {
					border-top: var(--bs-card-border-width) solid var(--bs-card-border-color);
				}
			}

			.card-body {
				mjx-container {
					margin: 0;
				}

				.parsehilight {
					background-color: yellow;
				}

				.ArrayLayout {
					td {
						border-style: none;
						border-width: 0px;
						padding: 0px;
						background-color: transparent;
					}
				}

				&.feedback-message {
					background-color: #ede275;
				}
			}
		}
	}
}

/* Comments */

div.AuthorComment {
	background-color: #00e0e0;
	color: black;
	padding: 0.25rem;
	border: 1px solid transparent;
	border-radius: 0.25rem;
}
